<!DOCTYPE html>
<html lang="es" class="light dark">

<head>

  <meta charset="UTF-8">
  <title>Formulario - 11:11 </title>

  <script src="js/registraServiceWorker.js"></script>

  <meta name="viewport" content="width=device-width">
  <meta name="theme-color" content="#fffbfe">
  <link rel="icon" sizes="48x48" href="favicon.ico">
  <link rel="manifest" href="site.webmanifest">
  <script src="ungap/custom-elements.js"></script>

  <script type="module" src="js/configura.js"></script>
  <link rel="stylesheet" href="css/estilos.css">
  <link rel="stylesheet" href="css/transicion_pestanas.css">

</head>

<md-top-app-bar adicional="tab" headline="headline">



</md-top-app-bar>

<h1 id="headline">Servicio que procesa un formulario</h1>

<nav-tab-fixed id="tab"></nav-tab-fixed>

<body>

  <form id="form" novalidate onsubmit="procesa(event)">

    <main>

      <p>
        <span class="md-filled-text-field" accesskey="G">
          <md-select-menu id="selectIntegrante" required options="opcionesDeIntegrantes"
            oninput="copiaMensajes()"></md-select-menu>
          <span>Integrante *</span>
          <small id="supportingIntegrante">Obligatorio</small>
        </span>
      </p>

      <p>
        <button class="md-filled-button" style="width: 100%;">Chiste</button>
      </p>

    </main>

    <md-options-menu id="opcionesDeIntegrantes" aria-label="Opciones de Integrantes de 11:11">
      <span data-value="" title="Selecciona un integrante"></span>
      <span data-value="lys">ğŸ¤¡ - GarduÃ±o Aguilar Norma Lizet </span>
      <span data-value="luis">ğŸ¤¡ - HernÃ¡ndez Izquierdo JosÃ© Luis</span>
      <span data-value="bran">ğŸ¤¡ - HernÃ¡ndez PÃ©rez Brandon de JesÃºs </span>
      <span data-value="yani">ğŸ¤¡ - MartÃ­nez Basilio Yanitzin</span>
      <span data-value="edgar">ğŸ¤¡ - OrtÃ­z Trejo Edgar Alejandro </span>
    </md-options-menu>

    <nav-drw></nav-drw>

  </form>

  <script type="module">
    import { muestraTextoDeAyuda } from "./lib/js/muestraTextoDeAyuda.js"
    import { exportaAHtml } from "./lib/js/exportaAHtml.js"
    import { muestraError } from "./lib/js/muestraError.js"

    function copiaMensajes() {
      muestraTextoDeAyuda(selectIntegrante, supportingIntegrante, "Obligatorio")
    }
    exportaAHtml(copiaMensajes)

    /**
     * @param {SubmitEvent} evt
     */
    function procesa(evt) {
      evt.preventDefault()
      try {
        copiaMensajes()
        if (
          selectIntegrante.validity.valid) {
          const integrante = selectIntegrante.value
          const resultado = recomienda(integrante)
          alert(resultado)
        }
      } catch (e) {
        muestraError(e)
      }
    }
    exportaAHtml(procesa)

    /** @param {string} integrante */
    function recomienda(integrante) {
      if (integrante === "lys") {
        return "Â¿CuÃ¡l es el colmo de Batman? Que le Robin. ğŸ¤¡ğŸ¤¡ğŸ¤¡"
      } else if (integrante === "luis") {
        return " Â¿QuÃ© tiene Darth Vader en la nevera? Helado Oscuro. ğŸ¤¡ğŸ¤¡ğŸ¤¡"
      } else if (integrante === "bran") {
        return "Â¿CÃ³mo se llama el campeÃ³n de buceo japonÃ©s? Tokofondo. ğŸ¤¡ğŸ¤¡ğŸ¤¡"
      } else if (integrante === "yani") {
        return " SÃ­ los zombies se deshacen con el paso del tiempo Â¿zombiodegradables? ğŸ¤¡ğŸ¤¡ğŸ¤¡"
      } else if (integrante === "edgar") {
        return "Â¿CÃ³mo se dice disparo en Ã¡rabe? AhÃ­-va-la-bala. ğŸ¤¡ğŸ¤¡ğŸ¤¡"
      }
    }
  </script>

</body>

</html>